<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .container {
        position: relative;
      width: 1000px; /* Ajustez la largeur du cadre selon vos besoins */
      height: 1000px;
      overflow: hidden;
    }

    .image1, .image2, .image3, .image4, .image5, .image6, .image7 {
      position: absolute;
      top: 0;
      left: 0px;
      display: none; /* Par défaut, toutes les images sont masquées */
    }


    /* Ajoutez ces styles pour réduire la taille des images */
    .container img {
      max-width: 100%; /* Réduire la largeur au maximum possible du conteneur */
      max-height:100%; /* Réduire la hauteur au maximum possible du conteneur */
      z-index: 1; /* Élévation des images par rapport aux calques */
    }

    .active {
      display: block; /* Cette classe affiche l'image active */
    }

    .magnifier {
      position: absolute;
      width: 200px; /* Ajustez la taille de la loupe selon vos besoins */
      height: 200px; /* Ajustez la taille de la loupe selon vos besoins */
      border: 1px solid #000;
      background-size: 400px 400px; /* Ajustez la taille de la zone de zoom */
      pointer-events: none;
    }


  </style>
</head>
<body>
  <div class="container" id="zoomContainer">
        <img src="https://zupimages.net/up/23/42/b30b.png" alt="Image 1" class="image1">
        <img src="https://zupimages.net/up/23/42/j97o.png" alt="Image 2" class="image2">
        <img src="https://zupimages.net/up/23/42/ir6i.png" alt="Image 3" class="image3">
        <img src="https://zupimages.net/up/23/42/9j9s.png" alt="Image 4" class="image4">
        <img src="https://zupimages.net/up/23/42/m52m.png" alt="Image 5" class="image5">
        <img src="https://zupimages.net/up/23/42/uxet.png" alt="Image 6" class="image6">
        <img src="https://zupimages.net/up/23/42/7694.png" alt="Image 7">
    
  </div>

  <button onclick="activateImage('image1')">Ligne 3</button>
  <button onclick="activateImage('image2')">Ligne 5</button>
  <button onclick="activateImage('image3')">Ligne 46</button>
  <button onclick="activateImage('image4')">Ligne 47</button>
  <button onclick="activateImage('image5')">Ligne 51</button>
  <button onclick="activateImage('image6')">Ligne 70</button>
  <button onclick="deactivateAllImages()">Désactiver Tout</button>

  

  <script>
   const container = document.getElementById('zoomContainer');
    const image = document.querySelector('.image');
    const magnifier = document.getElementById('magnifier');

    let currentScale = 1;

    container.addEventListener('wheel', (e) => {
      e.preventDefault();
      const containerRect = container.getBoundingClientRect();
      const offsetX = e.clientX - containerRect.left;
      const offsetY = e.clientY - containerRect.top;
      const newScale = e.deltaY > 0 ? currentScale - 0.1 : currentScale + 0.1;

      // Limit the zoom scale if needed
      if (newScale < 0.1) {
        currentScale = 0.1;
      } else if (newScale > 3) {
        currentScale = 3;
      } else {
        currentScale = newScale;
      }

      // Calculate the new position to keep the cursor point in the same place
      const scrollX = (offsetX / (image.width * currentScale / 2)) * (image.width * currentScale - containerRect.width);
      const scrollY = (offsetY / (image.height * currentScale / 2)) * (image.height * currentScale - containerRect.height);

      container.scrollLeft = scrollX;
      container.scrollTop = scrollY;

      applyScale();
    });

    container.addEventListener('mousemove', (e) => {
      const containerRect = container.getBoundingClientRect();
      const offsetX = e.clientX - containerRect.left;
      const offsetY = e.clientY - containerRect.top;

      // Mettez à jour la position de la loupe
      magnifier.style.left = e.clientX - magnifier.clientWidth / 2 + 'px';
      magnifier.style.top = e.clientY - magnifier.clientHeight / 2 + 'px';

      // Affichez la loupe et ajustez le zoom
      magnifier.style.backgroundImage = `url('${image.src}')`;
      magnifier.style.backgroundSize = `${image.width * currentScale}px ${image.height * currentScale}px`;
      magnifier.style.backgroundPosition = `-${offsetX * currentScale}px -${offsetY * currentScale}px`;
    });

    container.addEventListener('mouseleave', () => {
      // Cachez la loupe lorsque la souris quitte le cadre
      magnifier.style.display = 'none';
    });

    function applyScale() {
      image.style.transform = `scale(${currentScale})`;
    }

    function activateImage(className) {
      var images = document.querySelectorAll(".container img");
      images.forEach(function (img) {
        img.classList.remove("active");
        if (img.classList.contains(className)) {
          img.classList.add("active");
        }
      });
    }

    function deactivateAllImages() {
      var images = document.querySelectorAll(".container img");
      images.forEach(function (img) {
        img.classList.remove("active");
      });
    }
  </script>
</body>
</html>
